{"version":3,"sources":["../../src/api/index.js"],"names":["config","db","api","use","get","req","res","json","version","id","err","row","console","log","send"],"mappings":";;;;;;AAAA;;AACA;;AACA;;;;;;kBAEe,gBAAoB;AAAA,KAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,KAATC,EAAS,QAATA,EAAS;;AAClC,KAAIC,MAAM,sBAAV;;AAEA;AACAA,KAAIC,GAAJ,CAAQ,SAAR,EAAmB,sBAAO,EAAEH,cAAF,EAAUC,MAAV,EAAP,CAAnB;;AAEA;AACAC,KAAIE,GAAJ,CAAQ,GAAR,EAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BA,MAAIC,IAAJ,CAAS,EAAEC,yBAAF,EAAT;AACA,EAFD;;AAIAN,KAAIE,GAAJ,CAAQ,WAAR,EAAqB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAClCL,KAAGG,GAAH,CAAO,iCAAP,EAA0CK,EAA1C,EAA8C,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC3D,OAAGD,GAAH,EAAQ;AACP,UAAMA,GAAN;AACAE,YAAQC,GAAR,CAAYH,GAAZ;AACA;AACDJ,OAAIQ,IAAJ,CAAS,GAAT;AACA,GAND;AAOA,EARD;;AAUA,QAAOZ,GAAP;AACA,C","file":"index.js","sourcesContent":["import { version } from '../../package.json';\nimport { Router } from 'express';\nimport facets from './facets';\n\nexport default ({ config, db }) => {\n\tlet api = Router();\n\n\t// mount the facets resource\n\tapi.use('/facets', facets({ config, db }));\n\n\t// perhaps expose some API metadata at the root\n\tapi.get('/', (req, res) => {\n\t\tres.json({ version });\n\t});\n\n\tapi.get('/todo/:id', (req, res) => {\n\t\tdb.get(\"SELECT * FROM todo WHERE id = ?\", id, (err, row) => {\n\t\t\tif(err) {\n\t\t\t\tthrow err\n\t\t\t\tconsole.log(err)\n\t\t\t};\n\t\t\tres.send(200);\n\t\t})\n\t})\n\n\treturn api;\n}\n"]}