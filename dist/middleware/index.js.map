{"version":3,"sources":["../../src/middleware/index.js"],"names":["config","db","routes","get","req","res","console","log","parseInt","params","id","err","row","send","post","run","query","priority","end","lastID"],"mappings":";;;;;;AAAA;;kBAEe,gBAAoB;AAAA,KAAjBA,MAAiB,QAAjBA,MAAiB;AAAA,KAATC,EAAS,QAATA,EAAS;;AAClC,KAAIC,SAAS,sBAAb;;AAEA;;AAEA;AACAA,QAAOC,GAAP,CAAW,WAAX,EAAwB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACrCC,UAAQC,GAAR,CAAY,KAAZ;AACAN,KAAGE,GAAH,CAAO,0DAAP,EAAmEK,SAASJ,IAAIK,MAAJ,CAAWC,EAApB,CAAnE,EAA4F,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzG,OAAGD,GAAH,EAAQ,MAAMA,GAAN;AACRN,OAAIQ,IAAJ,CAASD,GAAT;AACA,GAHD;AAIA,EAND;;AAQA;AACA;AACAV,QAAOY,IAAP,CAAY,MAAZ,EAAoB,UAACV,GAAD,EAAMC,GAAN,EAAc;AACjCC,UAAQC,GAAR,CAAY,OAAZ;AACAN,KAAGc,GAAH,CAAO,sHAAP,EAA+HP,SAASJ,IAAIY,KAAJ,CAAUC,QAAnB,CAA/H,EAA6J,UAACN,GAAD,EAAS;AACrK,OAAGA,GAAH,EAAQ;AACP,UAAMA,GAAN;AACAL,YAAQC,GAAR,CAAYI,GAAZ;AACA;AACDL,WAAQC,GAAR,CAAY,MAAZ;AACAF,OAAIQ,IAAJ,CAAS,OAAT;AACAR,OAAIa,GAAJ;AACAZ,WAAQC,GAAR,CAAY,UAAKY,MAAjB;AACA,GATD;AAUA,EAZD;;AAcA;AACA;;AAEA,QAAOjB,MAAP;AACA,C","file":"index.js","sourcesContent":["import { Router } from 'express';\n\nexport default ({ config, db }) => {\n\tlet routes = Router();\n\n\t// add middleware here\n\n\t//VIEW TODO BY ID\n\troutes.get('/todo/:id', (req, res) => {\n\t\tconsole.log(\"one\")\n\t\tdb.get(\"SELECT subject, content, priority FROM todo WHERE id = ?\", parseInt(req.params.id), (err, row) => {\n\t\t\tif(err) throw err\n\t\t\tres.send(row);\n\t\t})\n\t})\n\n\t//VIEW ALL TODO\n\t//ADD TODO\n\troutes.post('/add', (req, res) => {\n\t\tconsole.log(\"check\")\n\t\tdb.run(\"INSERT INTO todo(priority,subject,content,datestamp,userid) VALUES (?,'yeyyey', 'yey', '2018-03-21 09:03:14.233', 0)\", parseInt(req.query.priority), (err) => {\n\t\t\tif(err) {\n\t\t\t\tthrow err\n\t\t\t\tconsole.log(err)\n\t\t\t}\n\t\t\tconsole.log(\"here\")\n\t\t\tres.send(\"ADDED\")\n\t\t\tres.end()\n\t\t\tconsole.log(this.lastID)\n\t\t})\n\t})\n\n\t//UPDATE TODO\n\t//DELETE TODO\n\n\treturn routes;\n}\n"]}